\setcounter{section}{6}

\section{Spectral Theorem}

\subsection{The continuous functional calculus}

In this chapter, we will discuss the spectral theorem in its many guises. This structure theorem is a concrete description of all self-adjoint operators. There are several apparently distinct formulations of the spectral theorem. In some sense they are all equivalent.

The form we prefer says that every bounded self-adjoint operator is a multiplication operator. (We emphasize the word bounded since we will deal extensively with unbounded self-adjoint operators in the next chapter; there is a spectral theorem for unbounded operators which we discuss in Section VIII.3.) This means that given a bounded self-adjoint operator on a Hilbert space $\H$, we can always find a measure $\mu$ on a measure space $M$ and a unitary operator $\op U: \H \to \L{2}{M, \D \mu}$ so that
\begin{align}
    (\op U \op A \op U^{-1} f)(x) = F(x)f(x)
\end{align}
for some bounded real-valued measurable function $F$ on $M$.

This is clearly a generalization of the finite-dimensional theorem, which says any self-adjoint $n \times n$ matrix can be diagonalized, or in an abstract form: Given self-adjoint operator $\op A$ on an $n$-dimensional complex space $V$,
there is a unitary operator $\op U: V \to \C^n$ and real numbers $\lambda_1, \cdots, \lambda_n$ so that \begin{align}
    (\op U \op A \op U^{-1} f)_i = \lambda_i f_i \quad \text{for each} \quad f = (f_1, \cdots, f_n) \in \C^n \:.
\end{align}

In practice, $M$ will be a union of copies of $\R$ and $F$ will be $x$, so the core of the proof of the theorem will be the construction of certain measures.
This will be done in Section VII.2 by using the Riesz-Markov theorem.
\footnote{
    The Riesz-Markov theorem reads as follows: Let $X$ be a compact Hausdorff space. For any positive linear functional $\ell$ on $C(X)$ there is a unique Baire measure $\mu$ on $X$ with 
\begin{align*} 
    \ell(f) = \int_X f \, \D \mu \quad \text{for every} \quad f \in C(X) \:.
\end{align*}
}
 Our goal in this section will be to make sense out of $f(\op A)$, for $f$ a continuous function. In the next section, we will consider the measures defined by the functionals $f \mapsto [\psi, f(\op A) \psi]$ for fixed $\psi \in \H$.

Given a fixed operator $\op A$, for which $f$ can define $f(\op A)$?
First, suppose that $\op A$ is an arbitrary bounded operator. If $f(x) = \sum_{n=1}^N a_n x^n$ is a polynomial, we want $f(\op A) = \sum_{n=1}^N a_n \op A^n$. Suppose that $f(x) = \sum_{n=0}^\infty c_n x^n$ is a power series with radius of convergence $R$. If $\norm{A} \leq R$, then $\sum_{n=0}^\infty c_n \op A^n$ converges in $\mathcal{L}(\H)$ so it is natural to set $f(A) = \sum_{n=0}^\infty c_n \op A^n$. In this last case, $f$ was a function analytic in a domain including all of $\sigma(\op A)$. In general, one can make a reasonable definition for $f(\op A)$ if $f$ is analytic in a neighborhood of $\sigma(\op A)$ (see the Notes).

The functional calculus we have talked about thus far works for any operator in any Banach space. The special property of self-adjoint operators (or more generally normal operators; see Problems 3, 5) is that $\norm{P(\op A)} = \sup_{\lambda \in \sigma (\op A)} |P(\lambda)|$ for any polynomial $P$, so that one can use the B.L.T. theorem to extend the functional calculus to continuous functions. Our major goal in this section is the proof of:

\begin{theorem}[Continuous functional calculus] \label{Theorem VII.1}
    Let $\op A$ be a self-adjoint operator on a Hilbert space $\H$. Then there is a \textit{unique} map $\phimap: C(\sigma(\op A)) \to \mathcal{L}(\H)$ with the following properties:
    \begin{enumerate}
        \item $\phimap$ is an algebraic $\star$-homomorphism, that is,
        \begin{align}
            \phimap(fg) = \phimap(f) \phimap(g) \:, \quad \phimap(\lambda f) = \lambda \phimap(f) \:, \\
            \phimap(1) = \op I \:, \quad \phimap(\o{f}) = \phimap(f)^\star \:. 
        \end{align}
        \item $\phi$ is continuous, that is, $\norm{\phi(f)}_{\mathcal{L}(\H)} \leq C \norm{f}_{\infty}$.
        \item Let $f$ be the function $f(x) = x$; then $\phimap(f) = \op A$.
        
        Moreover, $\phimap$ has the additional properties:

        \item If $\op A \psi = \lambda \psi$, then $\phimap(f) \psi = f(\lambda) \psi$.
        \item $\sigma[\phimap(f)] = \set{f(\lambda) | \lambda \in \sigma(\op A)}$ (spectral mapping theorem).
        \item If $f \geq 0$, then $\phimap(f) \geq 0$.
        \item $\norm{\phimap(f)} = \norm{f}_{\infty}$ (this strengthens (2)). 
    \end{enumerate}
\end{theorem}

We sometimes write $\phimap_A(f)$ or $f(\op A)$ for $\phimap(f)$ to emphasize the dependence on $\op A$.

The idea of the proof which we give below is quite simple. (1) and (3) uniquely determine $\phimap(\op P)$ for any polynomial $P(x)$. By the Weierstrass theorem, the set of polynomials is dense in $C(\sigma( \op A))$ so the heart of the proof is showing that
\begin{align}
    \norm{P(\op A)}_{\mathcal{L}(\H)} = \norm{P(x)}_{C(\sigma(\op A)) } = \sup_{\lambda \in \sigma(\op A)} |P(\lambda)| \:.
\end{align}
The existence and uniqueness of $\phimap$ then follow from the B.L.T. theorem.
To prove the crucial equality, we first prove a special case of (5) (which holds for arbitrary bounded operators):

\begin{lemma} \label{Lemma VII.1}
    Let $P(x) = \sum_{n=0}^N a_n x^n$. Let $P(\op A) = \sum_{n=0}^N a_n \op A^n$. Then \begin{align}
        \sigma(P(\op A)) = \set{P(\lambda) | \lambda \in \sigma(\op A)} \:.
    \end{align}
\end{lemma}

\begin{proof}
    Let $\lambda \in \sigma(\op A)$. Since $x = \lambda$ is a root of $P(x) - P(\lambda)$, we have $P(x)- P(\lambda) = (x-\lambda) Q(x)$, so $P(\op A) - P(\lambda) = (\op A - \lambda) Q(\op A)$.
    Since $(\op A - \lambda)$ has no inverse neither does $P(\op A) - P(\lambda)$, that is, $P(\lambda) \in \sigma(P(\op A))$.

    Conversely, let $\mu \in \sigma(P(\op A))$ and let $\lambda_1, \cdots, \lambda_n$ be the roots of $P(x)- \mu$, that is, $P(x) - \mu = a (x-\lambda_1) \cdots (x- \lambda_n)$. If $\lambda_1, \cdots, \lambda_n \notin \sigma(\op A)$, then \begin{align}
        \left[ P(\op A) - \mu \right]^{-1} = a^{-1} (\op A - \lambda_1)^{-1} \cdots (\op A - \lambda_n)^{-1}
    \end{align}
    so we conclude that some $\lambda_i \in \sigma(\op A)$, that is, $\mu = P(\lambda)$ for some $\lambda \in \sigma(\op A)$.
\end{proof}

\begin{lemma}
    Let $\op A$ be a bounded self-adjoint operator. Then
    \begin{align}
        \norm{P(\op A)} = \sup_{\lambda \in \sigma (\op A)} |P(\lambda)| \:.
    \end{align}
\end{lemma}

\begin{proof}
    \begin{align}
        \norm{P(\op A)}^2 =& \norm{P(\op A)^\star P(\op A)} = \norm{(\o{P} P)(\op A)} 
        = \\
        =& \sup_{\lambda \in \sigma [(\o{P} P)(\op A)]} |\lambda| \quad \text{(by Theorem VI.6)} \nonumber \\
        =& \sup_{\lambda \in \sigma(\op A)} |(\o{P} P)(\lambda)| \quad \text{(by Lemma \ref{Lemma VII.1})}  \nonumber \\
        =& \left( \sup_{\lambda \in \sigma(\op A)} |P(\lambda)| \right)^2 \:. \nonumber
    \end{align}
\end{proof}

\begin{proof}[Proof of Theorem \ref{Theorem VII.1}]
    Let $\phimap(P) = P(\op A)$. Then $ \norm{\phimap(P)}_{\mathcal L(\H)} = \norm{P}_{C(\sigma(\op A))} $, so $\phimap$ has a unique linear extension to the closure of the polynomials in $C(\sigma(\op A))$. Since the polynomials are an algebra containing $1$, containing complex conjugates, and separating points, this closure is all of $C(\sigma(\op A))$. 
    
    Properties (1), (2), (3), (7) are obvious and if $\hat \phimap$ obeys (1), (2), (3) it agrees with $\phimap$ on polynomials and thus by continuity on $C(\sigma(\op A))$. 
    
    To prove (4), note that $\phimap(P)\psi = P(\lambda) \psi$ and apply continuity. 
    
    To prove (6), notice that if $f \geq 0$, then $f = g^2$ with $g$ real and $g \in C(\sigma( \op A))$. Thus $\phimap(f) = \phimap(g)^2$ with $\phimap(g)$ self-adjoint, so $\phimap(f) \geq 0$.

    Finally, (5) is left for the reader (Problem 8).
    
\end{proof}

Before turning to some examples, we make several remarks:
\begin{enumerate}
    \item $\phimap(f) \geq 0$ if and only if $f \geq 0$ (Problem 9).
    
    \item Since $fg = gf$ for all $f$ and $g$, the set $\set{f(\op A) | f \in C(\sigma(\op A))}$ forms an abelian algebra closed under adjoints. Since $\norm{f(\op A)} = \norm{f}_\infty$ and $C(\sigma( \op A))$ is complete, $\set{f(\op A) | f \in C(\sigma(\op A))}$ is norm-closed. It is thus an \textbf{abelian $C^\star$ algebra} of operators. 
    \item $\Ran (\phimap)$ is actually the $C^\star$ \textbf{algebra generated by} $\op A$, that is, the smallest $C^\star$-algebra containing $\op A$ (Problem 10).
    \item This result, that $C(\sigma (\op A))$ and the $C^\star$-algebra generated by $\op A$ are isometrically isomorphic, is actually a special case of the \enquote{commutative Gelfand-Naimark theorem} which we discuss in Chapter XV.
    \item The statement (2) actually follows from (1) and abstract nonsense (Problem 11). Thus (1) and (3) alone determine $\phimap$ uniquely.
    
\end{enumerate}

Finally, we consider two specific examples of $\phimap(f)$:

\begin{example}
    As a corollary, we have a new proof of the existence half of the square-root lemma (Theorem VI.9) for if $\op A \geq 0$, then $\sigma (\op A) \subset  [0, \infty)$ (Problem 12). If $f(x) = x^{1/2}$, then $f(\op A)^2 = \op A$.
\end{example}

\begin{example}
    From (7) of Theorem \ref{Theorem VII.1}, we see that $\norm{(\op A - \lambda)^{-1}} = \left[ \mathrm{dist}\, (\lambda, \sigma(\op A)) \right]^{-1}$ if $\op A$ is bounded, self-adjoint, and $\lambda \notin \sigma(\op A)$.
\end{example}

\subsection{The spectral measures}

We are now ready to introduce the measures we have anticipated so often before. Let us fix $\op A$, a bounded self-adjoint operator. Let $\psi \in \H$. 
Then $f \mapsto (\psi, f(\op A) \psi)$ is a positive linear functional on $C(\sigma(\op A))$. Thus, by the Riesz-Markov theorem (Theorem IV.14), there is a unique measure $\mu_\psi$ on the compact set $\sigma(\op A)$ with 
\begin{align}
    (\psi, f(\op A) \psi) = \int_{\sigma (\op A)} f(\lambda) \, \D \mu_\psi \:.
\end{align}

\begin{definition}
    The measure $\mu_\psi$ is called the \textbf{spectral measure associated with the vector} $\psi$.
\end{definition}

The first and simplest application of the $\mu_\psi$ is to allow us to extend the functional calculus to $\mathcal B(\R)$, the bounded Borel functions on $\R$. Let $g \in \mathcal B(\R)$. It is natural to define $g(\op A)$ so that 
\begin{align}
    (\psi, g(\op A) \psi) = \int_{\sigma (\op A)} g(\lambda) \, \D \mu_\psi (\lambda) \:.
\end{align}
The polarization identity lets us recover $(\psi, g(\op A) \phi)$ from the proposed $(\psi, g(\op A) \psi)$ and then the Riesz lemma lets us construct $g(\op A)$. The properties of this \enquote{measurable functional calculus} are given in (Problem 13):

\footnote{The polarization identity: \begin{align*}
    4 (x,y) = \left(\norm{x+y}^2 - \norm{x-y}^2 \right) - i \left(\norm{x+iy}^2 - i \norm{x - iy}^2 \right) \:.
\end{align*} }

\begin{theorem}[Spectral theorem - functional calculus form]
    Let $\op A$ be a bounded self-adjoint operator in $\H$. There is a unique map $\hat \phimap: \mathcal B(\R) \to \mathcal L (\H)$ so that \begin{enumerate}
        \item $\hat \phimap$ is an algebraic $\star$-homomorphism.
        \item $\hat \phimap$ is norm continuous: $\norm{\hat \phimap (f)}_{\mathcal L(\H)} = \norm{f}_\infty$.
        \item Let $f$ be the function $f(x) = x $; then $\hat \phimap(f) = \op A$.
        \item Suppose $f_n(x) \rightarrow f(x)$ for each $x$ and $\norm{f_n}_\infty$ is bounded. Then $\hat \phimap(f_n) \rightarrow \hat \phimap (f)$ strongly.
    \end{enumerate}
    
    Moreover, $\hat \phimap$ has the properties:
    \begin{enumerate}
        \item If\, $\op A \psi = \lambda \psi$, the $\hat \phimap(f) \psi = f(\lambda) \psi$.
        \item If\, $f \geq 0$, then $\hat \phimap (f) \geq 0$.
        \item If\, $\op B \op A = \op A \op B$, then $\hat \phimap (f) \op B = \op B \hat \phimap(f)$.
    \end{enumerate}
\end{theorem}

Theorem VII.2 can be proven directly by extending Theorem VII.1; part (4) requires the dominated convergence theorem. Or, Theorem VII.2 can be proven by an easy corollary of Theorem VII.3 below. The proof of Theorem VIL3 uses only the \textit{continuous} functional calculus. $\hat \phimap$ extends $\phimap$ and as before we write $\hat \phimap (f) = f(\op A)$. As in the continuous functional calculus, one has $f(\op A) g(\op A) = g(\op A) f(\op A)$.
Since $\mathcal B (\R)$ is the smallest family closed under limits of form (4) containing all of $C(\R)$, we know that any $\hat \phimap$ is in the smallest $C^\star$-algebra containing $\op A$ which is also strongly closed; such an algebra is called a von Neumann or $W^\star$-algebra. When we study von Neumann algebras in Chapter XVIII we will see that this follows from (7).
The norm equality of Theorem VII.I carries over if we define $\norm{f}_\infty '$, to be the $L^\infty$-norm with respect to a suitable notion of \enquote{almost everywhere}. Namely, pick an orthonormal basis $\set{\psi_n}$ and say that a property is true a.e. if it is true a.e. with respect to \textit{each} $\mu_{\psi_i}$. Then $\norm{ \hat \phimap (f)}_{\mathcal L(\H)} =\norm{f}_\infty '$.
In the next section, we will return to the operators $\chi_\Omega (\op A)$ where $\chi_\Omega$ is a characteristic function; this is the most important set of operators in the measurable but not in the continuous functional calculus. For the time being, we turn to using the spectral measures to form $L^2$ spaces. We first define:

\begin{definition}
    A vector $\psi \in \H$ is called a \textbf{cyclic vector} for $\op A$ if finite linear combinations of the elements $\set{\op A^n \psi}_{n=0}^\infty$ are dense in $\H$.
\end{definition}

Not all operators have cyclic vectors (Problem 14), but if they do:

\begin{lemma}
    Let $\op A$ be a bounded self-adjoint operator with cyclic vector $\psi$. Then, there is a unitary operator $\op U: \H \to \L{2}{\sigma(\op A), \D \mu_\psi}$ with \begin{align}
        (\op U \op A \op U^{-1} f) (\lambda) = \lambda f(\lambda) \:.
    \end{align}
    Equality is in the sense of elements of $\L{2}{\sigma(\op A), \D \mu_\psi}$.
\end{lemma}

\begin{proof}
    Define $\op U$ by $\op U \phimap(f) \psi \equiv f$ where $f$ is continuous. $\op U$ is essentially the inverse of the map $\phimap$ of Theorem \ref{Theorem VII.1}. To show that $\op U$ is well defined we compute
    \begin{align}
        \norm{\phimap(f) \psi}^2 = \left( \psi, \phimap^\star (f) \phimap(f) \psi \right) = \left( \psi, \phimap (\o f f) \psi \right) = \int |f(\lambda)|^2 \, \D \mu_\psi \:.
    \end{align}
    Therefore, if $f=g$ a.e. with respect to $\mu_\psi$, then $\phimap(f) \psi = \phimap(g) \psi$. Thus $\op U$ is well defined on $\set{\phimap(f) | f \in C (\sigma (\op A))}$ and is norm preserving. Since $\psi$ is cyclic, \begin{align}
        \o{ \set{ \phimap(f) \psi | f \in C (\sigma (\op A))  } } = \H \:,
    \end{align}
    so by the B.L.T. theorem $\op U$ extends to an isometric map of $\H$ into $\L{2}{\sigma(\op A), \D \mu_\psi}$. Since $C(\sigma (\op A))$ is dense in $L^2$, $\Ran \op U = \L{2}{\sigma(\op A), \D \mu_\psi}$. Finally, if $f \in C(\sigma (\op A))$, \begin{align}
        (\op U \op A \op U^{-1} f )(\lambda) = [\op U \op A \phimap(f)](\lambda) = [\op U \phimap(xf)](\lambda) = \lambda f (\lambda) \:.
    \end{align}
    By continuity, this extends from $f \in C(\sigma (\op A))$ to $f \in L^2$.
\end{proof}

To extend this lemma to arbitrary $\op A$, we need to know that $\op A$ has a family of invariant subspaces spanning $\H$ so that $\op A$ is cyclic on each subspace:

\begin{lemma}
    Let $\op A$ be a self-adjoint operator on a separable Hilbert space $\H$. Then there is a direct sum decomposition $\H = \oplus_{n=1}^N \H_n$ with $N=1,2, \cdots $ or $\infty$ so that:
    \begin{enumerate}
        \item $\op A$ leaves each $\H_n$ \textbf{invariant}, that is, $\psi \in \H_n$ implies $\op A \psi \in \H_n$.
        \item For each $n$, there is a $\phi_n \in \H_n$ which is cyclic for $\op A |_{\H_n}$, i.e.
        \begin{align}
            \H_n = \o{ \set{ f(\op A) \phi_n | f \in C(\sigma (\op A)) } } \:.
        \end{align}
    \end{enumerate} 
\end{lemma}

\begin{proof}
    A simple Zornication\footnote{Don't know what that means\dots} (Problem 15).
\end{proof}

We can now combine Lemmas 1 and 2 to prove the form of the spectral theorem which we regard as the most transparent:

\begin{theorem}[Spectral theorem - multiplication operator form]
    Let $\op A$ be a bounded self-adjoint operator on $\H$, a separable Hilbert space. Then, there exist measures $\set{\mu_n}_{n=1}^N$, ($N = 1,2,\cdots$ or $\infty$) on $\sigma(\op A)$ and a unitary operator
    \begin{align}
        \op U : \H \to \bigoplus_{n=1}^N \L{2}{\R, \D \mu_n}
    \end{align}
    so that \begin{align}
        (\op U \op A \op U^{-1} \psi)_n (\lambda) = \lambda \psi_n(\lambda) \:,
    \end{align}
    where we wrie an element $\psi \in \oplus_{n=1}^N \L{2}{\R, \D \mu_n}$ as an $N$-tuple $[\psi_1(\lambda), \cdots, \psi_N(\lambda)]$. This realization of $\op A$ is called a \textbf{spectral representation}.
\end{theorem}

\begin{proof}
    Use Lemma 2 to find the decomposition and then use Lemma 1 on each component.
\end{proof}

This theorem tells us that every bounded self-adjoint operator is a multiplication operator on a suitable measure space; what changes as the operator changes are the underlying measures. Explicitly:

\begin{corollary}
    Let $\op A$ be a bounded self-adjoint operator on a separable Hilbert space $\H$. Then there exists a finite measure space $(M, \mu)$ a bounded function $F$ on $M$, and a unitary map, $ \op U: \H \to \L{2}{M, \D \mu}$, so that
    \begin{align}
        (\op U \op A \op U^{-1} f) (m) = F(m) f(m) \:.
    \end{align}
\end{corollary}

\begin{proof}
    Choose the cyclic vectors $\phi_n$, so that $\norm{\phi_n} = 2^{-n}$. Let $M = \cup_{n=1}^N \R$ i.e. the union of $N$ copies of $\R$. Define $\mu$ by requiring that its restriction to the nth copy of $\R$ be $\mu_n$. Since $\mu(M) = \sum_{n=1}^N \mu_n(\R) < \infty$, $\mu$ is finite.
\end{proof}

We also notice that this last theorem is essentially a rigorous form of the physicist's Dirac notation.
If we write $\psi_n(x) = \psi(x;n)$, we see that in the \enquote{new representation defined by U} one has
\begin{align}
    (\psi, \phi) =& \sum_n \int \, \D \mu_n \o{ \psi(\lambda; n)} \phi(\lambda; n) \:, \\
    (\psi, \op A \phi) =& \sum_n \int \, \D \mu_n \o{ \psi(\lambda; n)} \lambda \phi(\lambda; n) \:.
\end{align}

These are the Dirac type formulas familiar to physicists except that the formal sums of Dirac are replaced with integrals over spectral measures, where we define:

\begin{definition}
    The measures $\D \mu_n$ are called \textbf{spectral measures}; they are just $\D \mu_\psi$ for suitable $\psi$.
\end{definition}

These measures are not uniquely determined and we will eventually discuss this nonuniqueness question. First, let us consider a few examples:

\begin{example}
Let $\op A$ be an $n \times n$ self-adjoint matrix. The \enquote{usual} finite- dimensional spectral theorem says that $\op A$ has a complete orthonormal set of eigenvectors, $\psi_1, \cdots, \psi_n$ with $\op A \psi_i = \lambda_i \psi_i$. Suppose first that the eigenvalues are distinct.
Consider the sum of Dirac measures, $\mu = \sum_{i=1}^n a_i \delta(x-\lambda_i)$. $\L{2}{\R, \D \mu} $ is just $\C^n$ since $f \in L^2$ is determined by $f = [f(\lambda_1), \cdots, f(\lambda_n)]$.
Clearly, the function $\lambda f$ corresponds to the $n$-tuple $f = [\lambda_1 f(\lambda_1), \cdots, \lambda_n f(\lambda_n)]$ so $\op A$ is multiplication by $\lambda$ on $\L{2}{\R, \D \mu}$. If we take $\tilde \mu = \sum_{i=1}^n a_o \delta(x-\lambda_i)$ with $a_1, \dots, a_n >0$, $\op A$ can also be represented as multiplication by $\lambda$ on $\L{2}{\R, \D \tilde \mu}$. Thus, we explicitly see the nonuniqueness of the measure in this case. We can also see when more than one measure is needed: one can represent a finite-dimensional self-adjoint operator as multiplication on $\L{2}{\R, \D \tilde \mu}$ with only one measure if and only if $\op A$ has no repeated eigenvalues.
\end{example}

\begin{example}
Let $\op A$ be compact and self-adjoint. The Hilbert-Schmidt theorem tells us there is a complete orthonormal set of eigenvectors $\set{\psi_n}_{n=1}^\infty$ with $\op A \psi_n = \lambda_n \psi_n$. If there is no repeated eigenvalue, $\sum_{n=1}^\infty 2^{-n} \delta(x-\lambda_n)$ works as a spectral measure.
\end{example}

\begin{example}
Let $\H = l^2(-\infty, +\infty)$, that is, the set of sequences, $\set{a_n}_{n=-\infty}^{+\infty}$ with $\sum_{n=-\infty}^{+\infty} |a_n|^2 < \infty$. Let $\op L : \H \to \H$ by $(\op L a)_n = a_{n+1}$, that is, $\op L$ shifts to the left. $\op L^\star = \op R$ with $(\op R a)_n = a_{n-1}$. Let $\op A = \op R + \op L$ which is self-adjoint. Can we represent $\op A$ as a multiplication operator? Map $\H$ into $\L{2}{[0,1]}$ by $\op U: \set{a_n} \mapsto \sum_{n=-\infty}^\infty a_n e^{2 \pi i n x}$.
Then $\op U \op L \op U^{-1}$ is multiplication by $e^{-2 \pi i x}$ and $\op U \op R \op U^{-1}$ is multiplication by $e^{+2 \pi i x}$ so $\op U \op A \op U^{-1}$ is multiplication by $2 cos( 2 \pi x)$. 
The necessary transformations needed to represent $\op A$ as multiplication by $x$ on $\L{2}{\R, \D \mu_1} \oplus \L{2}{\R, \D \mu_2} $ are left for the problems. $\mu_1$ and $\mu_2$ have support in $[-2, 2]$.
\end{example}

\begin{example}
Consider $\frac{1}{i} \der{}{x}$ on $\L{2}{\R, \D x}$. This is an unbounded operator and thus not strictly within the context of this section, but we will prove an analogue of Theorem VII.3 in Section VIII3. We thus seek an operator $\op U$ and a measure $\D \mu$ (it turns out that only one $\mu$ is needed) with $\op U : \L{2}{\R, \D x} \to \L{2}{\R, \D \mu(k)}$ so that
\begin{align}
    \op U \left( \frac{1}{i} \der{f}{x} \right) (k) = k \op U f(k) \:.
\end{align}
The Fourier transform $(\op U f)(k) = \frac{1}{\sqrt{2 \pi}} \int f(x) e^{-ikx} \, \D x$ which we study in Chapter IX precisely does the trick. Thus, the Fourier transform is one example of a spectral representation.
\end{example}

We now investigate the connection between spectral measures and the
spectrum.

\begin{definition}
    If $\set{\mu_n}_{n=1}^N$ is a family of measures, the \textbf{support} of $\set{\mu_n}$ is the complement of the largest open set $B$ with $\mu_n (B) = 0$ for all $n$; so \begin{align}
        \supp \set{\mu_n} = \o { \bigcup_{n=1}^N \supp \mu_n } \:.
    \end{align}
\end{definition}

\begin{proposition}
    Let $\op A$ be a self-adjoint operator and $\set{\mu_n}_{n=1}^N$ a family of spectal measures. Then \begin{align}
        \sigma(\op A) = \supp \set{\mu_n}_{n=1}^N \:.
    \end{align}
\end{proposition}

There is also a simple description of $\sigma(\op A)$ in terms of the more multiplication operators discussed after Theorem VII.3:

\begin{definition}
    Let $F$ be a real-valued function on a measure space $(M, \mu)$. We say $\lambda$ is in the \textbf{essential range} of $F$ if and only if \begin{align}
        \forall \varepsilon > 0 \: : \quad  \mu \set{m | \lambda - \varepsilon < F(m) < \lambda + \varepsilon } > 0 \:.
    \end{align}
\end{definition}

\begin{proposition}
    Let $F$ be a real-valued function on a measure space $(M, \mu)$. Let $\op T_F$ be the operator on $\L{2}{M, \D \mu}$ given by \begin{align}
        (\op T_F g)(m) = F(m) g(m) \:.
    \end{align}
    Then $\sigma(\op T_F)$ is the essential range of $F$.
\end{proposition}

\begin{proof}
    See Problem 17b.
\end{proof}

We can now see exactly what information is contained in the spectrum. A unitary invariant of a self-adjoint operator $\op A$ is a property $P$ so that $P(\op A) = P(\op U \op A \op U^{-1})$ for all unitary operators $\op U$. Thus, unitary invariants are \enquote{intrinsic} properties of self-adjoint operators, that is, properties independent of \enquote{representation}. An example of such a unitary invariant is the spectrum $\sigma( \op A)$. However, the spectrum is a poor invariant: for example, multiplication by $x$ on $\L{2}{[0,1], \D x}$ and an operator with a complete set of eigenfunctions having all rationals in $[0, 1]$ as eigenvalues are very different even though both have spectrum $[0, 1]$.
At the conclusion of this section, we will see that there is a canonical choice of “spectral measures” which forms a complete set of unitary invariants, that is, a set of properties which distinguish two self-adjoint operators $\op A$ and $\op B$ unless $\op A = \op U \op B \op U^{-1} $ for some unitary operator $\op U$. This explains why $\sigma (\op A)$ is such a bad invariant for different sorts of measures can have the same support. If we wish to find better invariants which are, however, simpler than measures, it is reasonable to first decompose spectral measures in some natural way and then pass to supports.
Recall Theorem I.13 which says that any measure $\mu$ on $\R$ has a unique decomposition into $\mu = \mupp + \muac + \musing $ where $\mupp$ is a pure point measure, $\muac$ is absolutely continuous with respect to Lebesgue measure, and $\musing$ is continuous and singular with respect to Lebesgue measure. These three pieces are mutually singular so
\begin{align}
    \L{2}{\R, \D \mu} = \L{2}{\R, \D \mupp} \oplus \L{2}{\R, \D \muac} \oplus \L{2}{\R, \D \musing} \:.
\end{align}
It is easy to see (Problem 18) that any $\psi \in \L{2}{\R, \D \mu}$ has an absolutely continuous spectral measure $\D \mu_\psi$ if and only if $\psi \in \L{2}{\R, \D \mu}$ and similarly for pure point and singular measures. If $\set{\mu_n}_{n=1}^N$ is a family of spectral measures, we can sum $\oplus_{n=1}^N \L{2}{\D \mu_{n ; \mathrm{ac}}}$ by defining:

\begin{definition}
    Let $\op A$ be a bounded self-adjoint operator on $\H$. Let $\Hpp = \set{\psi | \mu_\psi \text{ is pure point}}$, $\Hac = \set{\psi | \mu_\psi \text{ is absolutely continuous}}$ and $ \Hsing = \set{\psi | \mu_\psi \text{ is continuous singular}}$.
\end{definition}

We have thus proven:

\begin{theorem}
    $\H = \Hpp \oplus \Hac \oplus \Hsing$. Each of these subspaces is invariant under $\op A$. $\op A|_{\Hpp}$ is a complete set of eigenvectors, $\op A|_{\Hac}$ has only absolutely continuous spectral measures and $\op A|_{\Hsing}$ has only continuous singular spectral measures.
\end{theorem}